(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(17)},17:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(5),u=n.n(a),o=n(2),l=n(1),s=n(6),i=n(7),m=n(9),d=n(8),f=n(10);function v(e){for(var t=[e],n=0;n<2;n++){for(var r=t[t.length-1],c=[],a=0;a<9;a+=3)a<=5?(c.push(r[a+3]),c.push(r[a+4]),c.push(r[a+5])):(c.push(r[0]),c.push(r[1]),c.push(r[2]));t.push(c)}return t}function h(){for(var e=function(){for(var e=[1,2,3,4,5,6,7,8,9],t=[];e.length>1;){var n=Math.floor(Math.random()*e.length);t.push(e[n]),e.splice(n,1)}return t.push(e[0]),t}(),t=[],n=Object(l.a)(e),r=Object(l.a)(e),c=0;c<3;c++){if(c>0){var a=Object(l.a)(n);a.shift(),r=[].concat(Object(l.a)(a),[n[0]])}var u=v(r);t.push(u[0],u[1],u[2]),n=Object(l.a)(r)}return t}function k(e){for(var t=[],n=[[0,1,2],[0,2,1],[1,0,2],[1,2,0],[2,0,1],[2,1,0]],r=0;r<9;r+=3){var c=n[Math.floor(Math.random()*n.length)];t.push(e[r+c[0]]),t.push(e[r+c[1]]),t.push(e[r+c[2]])}return t}var w=function(){var e=h();return e=k(e),e=k(e=function(e){for(var t=[],n=0;n<9;n++){for(var r=[],c=0;c<9;c++)r.push(e[c][n]);t.push(r)}return t}(e))},p=function(e){var t="cell";return e.n.active&&(t+=" active"),0===e.n.conflicts.length||e.revealed||(t+=" conflict"),c.a.createElement("td",{className:e.n.prefilled?"inactive":"",key:"".concat(e.n.row).concat(e.n.column)},c.a.createElement("div",{className:t,onClick:function(){return e.toggleClass(e.n)}},e.n.prefilled&&e.n.digit,0!==e.n.guess&&!e.revealed&&e.n.guess,!e.n.prefilled&&e.revealed&&e.n.digit))},b=function(e){var t="inputNum";-1===e.currentActive.row&&(t+=" inactive"),e.revealed&&(t+=" inactive");return c.a.createElement("div",{id:"inputOptions"},[1,2,3,4,5,6,7,8,9].map(function(n){return c.a.createElement("div",{key:n,className:e.guess===n?"".concat(t," entered"):t,onClick:function(){return e.handleInputNum(n)}},n)}))},g=function(e){return c.a.createElement("div",{id:"toolbar"},c.a.createElement("button",{className:"restart",onClick:function(){e.restart()}},"Restart"),!e.revealed&&c.a.createElement("button",{className:"revealall",onClick:function(){return e.revealAll()}},"Reveal all"),e.revealed&&c.a.createElement("button",{className:"back2answer",onClick:function(){return e.backToYourAnswer()}},"Go back to your answer"),c.a.createElement("button",{className:"newgame",onClick:function(){return e.newGame()}},"New game"))},C=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).toggleClass=function(e){if(!e.prefilled){var t=Object(l.a)(n.state.sudoku);if(t[e.row][e.column].active=!0,-1===n.state.currentActive.row)n.setState({currentActive:{row:e.row,column:e.column},sudoku:t});else{if(e.row===n.state.currentActive.row&&e.column===n.state.currentActive.column)return;t[n.state.currentActive.row][n.state.currentActive.column].active=!1,n.setState({currentActive:{row:e.row,column:e.column},sudoku:t})}}},n.removeNumbers=function(e){for(var t=81,n=0;n<9;n++){for(var r=0;r<9&&(t>22&&Math.random()>22/81&&(e[n][r].prefilled=!1,t--),!(t<=17));r++);if(t<=17)break}return e},n.handleInputNumClick=function(e){if(-1!==n.state.currentActive.row&&!n.state.revealed){var t=Object(l.a)(n.state.sudoku);t[n.state.currentActive.row][n.state.currentActive.column].guess!==e&&(t[n.state.currentActive.row][n.state.currentActive.column].guess=e,n.setState({sudoku:t},function(){return n.checkConflict()}))}},n.handleInputKeyPress=function(e){if(-1!==n.state.currentActive.row&&!n.state.revealed&&(e.keyCode>=49&&e.keyCode<=57||8===e.keyCode||46===e.keyCode)){var t=Object(l.a)(n.state.sudoku),r=parseInt(String.fromCharCode(e.keyCode));if(t[n.state.currentActive.row][n.state.currentActive.column].guess===r)return;8===e.keyCode||46===e.keyCode?t[n.state.currentActive.row][n.state.currentActive.column].guess=0:t[n.state.currentActive.row][n.state.currentActive.column].guess=r,n.setState({sudoku:t},function(){return n.checkConflict()})}},n.updateConflicts=function(e,t,n){for(var r=0;r<n.conflicts.length;r++)for(var c=Object(o.a)({},n.conflicts[r]),a=Object(l.a)(e[c.row][c.column].conflicts),u=0;u<a.length;u++)if(a[u].row===t.row&&a[u].column===t.column){a.splice(u,1),e[c.row][c.column].conflicts=Object(l.a)(a);break}return e},n.checkRowConflicts=function(e,t,n){for(var r=0;r<9;r++)r!==t.column&&(e[t.row][r].prefilled&&e[t.row][r].digit===n.guess||!e[t.row][r].prefilled&&e[t.row][r].guess===n.guess)&&(n.conflicts.push({row:t.row,column:r}),e[t.row][r].conflicts.push(t));return{sudoku:e,currentGrid:n}},n.checkColumnConflicts=function(e,t,n){for(var r=0;r<9;r++)r!==t.row&&(e[r][t.column].prefilled&&e[r][t.column].digit===n.guess||!e[r][t.column].prefilled&&e[r][t.column].guess===n.guess)&&(n.conflicts.push({row:r,column:t.column}),e[r][t.column].conflicts.push(t));return{sudoku:e,currentGrid:n}},n.checkNonetConflicts=function(e,t,n){var r,c;switch(t.row%3){case 0:r=t.row;break;case 1:r=t.row-1;break;case 2:r=t.row-2;break;default:r=-1}switch(t.column%3){case 0:c=t.column;break;case 1:c=t.column-1;break;case 2:c=t.column-2;break;default:c=-1}for(var a=0;a<3;a++)for(var u=0;u<3;u++){var o=r+a,l=c+u;o!==t.row&&l!==t.column&&((e[o][l].prefilled&&e[o][l].digit===n.guess||!e[o][l].prefilled&&e[o][l].guess===n.guess)&&(n.conflicts.push({row:o,column:l}),e[o][l].conflicts.push(t)))}return{sudoku:e,currentGrid:n}},n.checkConflict=function(){var e=Object(l.a)(n.state.sudoku),t=Object(o.a)({},n.state.currentActive),r=Object(o.a)({},e[t.row][t.column]);e=n.updateConflicts(e,t,r),r.conflicts=[];var c=n.checkRowConflicts(e,t,r);e=c.sudoku,r=c.currentGrid;var a=n.checkColumnConflicts(e,t,r);e=a.sudoku,r=a.currentGrid;var u=n.checkNonetConflicts(e,t,r);e=u.sudoku,r=u.currentGrid,e[t.row][t.column]=Object(o.a)({},r),n.setState({sudoku:e})},n.newGame=function(){var e=w().map(function(e,t){return e.map(function(e,n){return{digit:e,guess:0,prefilled:!0,conflicts:[],active:!1,row:t,column:n}})});e=n.removeNumbers(e),n.setState({sudoku:e,currentActive:{row:-1,column:-1},revealed:!1})},n.revealAll=function(){n.setState({revealed:!0})},n.backToYourAnswer=function(){n.setState({revealed:!1})},n.restart=function(){var e=Object(l.a)(n.state.sudoku);e=e.map(function(e){return e.map(function(e){return e.conflicts=[],e.guess=0,e})}),n.setState({sudoku:e})};var r=w().map(function(e,t){return e.map(function(e,n){return{digit:e,guess:0,prefilled:!0,conflicts:[],active:!1,row:t,column:n}})});return r=n.removeNumbers(r),n.state={sudoku:r,currentActive:{row:-1,column:-1},revealed:!1},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleInputKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleInputKeyPress)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"game"},c.a.createElement(g,{newGame:this.newGame,revealAll:this.revealAll,backToYourAnswer:this.backToYourAnswer,revealed:this.state.revealed,restart:this.restart}),c.a.createElement("div",{id:"gameboard"},c.a.createElement("table",null,c.a.createElement("tbody",null,this.state.sudoku.map(function(t,n){return c.a.createElement("tr",{key:n},t.map(function(t){return c.a.createElement(p,{key:"".concat(t.row).concat(t.column),n:t,toggleClass:e.toggleClass,revealed:e.state.revealed})}))}))),c.a.createElement(b,{guess:-1!==this.state.currentActive.row?this.state.sudoku[this.state.currentActive.row][this.state.currentActive.column].guess:0,currentActive:this.state.currentActive,handleInputNum:this.handleInputNumClick,revealed:this.state.revealed})))}}]),t}(c.a.Component),A=function(e){return c.a.createElement("div",{id:"instruction"},c.a.createElement("h3",null,c.a.createElement("u",null,"Classic Sudoku Rules")),c.a.createElement("p",null,"There are 9 rows, 9 columns, and 9 3x3 blocks. Fill in the empty cells with the numbers 1-9, without repeating any numbers within the row, column, or block."),c.a.createElement("h3",null,c.a.createElement("u",null,"How to Play")),c.a.createElement("p",null,"Click on each empty cell, enter digit with keyboard or number bar that's provided. Use Backspace or Delete to clear entries."))},E=function(){return c.a.createElement("div",{id:"footer"},"Web Sudoku \xa92019\xa0",c.a.createElement("a",{title:"Github",href:"https://github.com/huwu55/Web-Sudoku",target:"_blank"},"Huiling Wu ",c.a.createElement("i",{className:"fab fa-github"})))};n(4);u.a.render(c.a.createElement(function(){return c.a.createElement("div",{id:"app"},c.a.createElement(A,null),c.a.createElement(C,null),c.a.createElement(E,null))},null),document.getElementById("root"))},4:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.2fa1f562.chunk.js.map