(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(16)},16:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n.n(c),u=n(2),s=n(1),i=n(3),l=n(4),d=n(6),v=n(5),m=n(7);function f(e){for(var t=[e],n=0;n<2;n++){for(var r=t[t.length-1],a=[],c=0;c<9;c+=3)c<=5?(a.push(r[c+3]),a.push(r[c+4]),a.push(r[c+5])):(a.push(r[0]),a.push(r[1]),a.push(r[2]));t.push(a)}return t}function p(){for(var e=function(){for(var e=[1,2,3,4,5,6,7,8,9],t=[];e.length>1;){var n=Math.floor(Math.random()*e.length);t.push(e[n]),e.splice(n,1)}return t.push(e[0]),t}(),t=[],n=Object(s.a)(e),r=Object(s.a)(e),a=0;a<3;a++){if(a>0){var c=Object(s.a)(n);c.shift(),r=[].concat(Object(s.a)(c),[n[0]])}var o=f(r);t.push(o[0],o[1],o[2]),n=Object(s.a)(r)}return t}function h(e){for(var t=[],n=[[0,1,2],[0,2,1],[1,0,2],[1,2,0],[2,0,1],[2,1,0]],r=0;r<9;r+=3){var a=n[Math.floor(Math.random()*n.length)];t.push(e[r+a[0]]),t.push(e[r+a[1]]),t.push(e[r+a[2]])}return t}var k=function(){var e=p();return e=h(e),e=h(e=function(e){for(var t=[],n=0;n<9;n++){for(var r=[],a=0;a<9;a++)r.push(e[a][n]);t.push(r)}return t}(e))},w=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(d.a)(this,Object(v.a)(t).call(this,e))).toggleClass=function(e,t){var r=Object(s.a)(n.state.candidates),a=!r[e][t].active;r[e][t].active=a,n.setState({candidates:r})},n.toggleClassKeyPress=function(e){if(n.props.candidateMode&&n.props.row===n.props.currentActive.row&&n.props.column===n.props.currentActive.column){if(0===n.props.guess&&(8===e.keyCode||46===e.keyCode)){for(var t=Object(s.a)(n.state.candidates),r=0;r<t.length;r++)for(var a=0;a<t[r].length;a++)t[r][a].active=!1;n.setState({candidates:t})}if(e.keyCode>=49&&e.keyCode<=57){var c=parseInt(String.fromCharCode(e.keyCode)),o=Object(s.a)(n.state.candidates);switch(c){case 1:o[0][0].active=!o[0][0].active;break;case 2:o[0][1].active=!o[0][1].active;break;case 3:o[0][2].active=!o[0][2].active;break;case 4:o[1][0].active=!o[1][0].active;break;case 5:o[1][1].active=!o[1][1].active;break;case 6:o[1][2].active=!o[1][2].active;break;case 7:o[2][0].active=!o[2][0].active;break;case 8:o[2][1].active=!o[2][1].active;break;case 9:o[2][2].active=!o[2][2].active}n.setState({candidates:o})}}},n.resetCandidates=function(){for(var e=Object(s.a)(n.state.candidates),t=0;t<3;t++)for(var r=0;r<3;r++)e[t][r].active=!1;n.setState({candidates:e})};for(var r=[],a=0;a<3;a++){for(var c=[],o=1;o<4;o++){var u={value:3*a+o,active:!1};c.push(u)}r.push(c)}return n.state={candidates:r},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.toggleClassKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.toggleClassKeyPress)}},{key:"componentDidUpdate",value:function(e){-1===this.props.currentActive.row&&-1===this.props.currentActive.column&&e.currentActive.row!==this.props.currentActive.row&&e.currentActive.column!==this.props.currentActive.row&&this.resetCandidates()}},{key:"render",value:function(){var e=this,t={};return this.props.display&&!this.props.revealed||(t={display:"none"}),a.a.createElement("div",{className:"candidates",style:t},!this.props.prefilled&&a.a.createElement("table",null,a.a.createElement("tbody",null,this.state.candidates.map(function(t,n){return a.a.createElement("tr",{key:"".concat(e.props.row).concat(e.props.column,"row").concat(n)},t.map(function(t,r){return a.a.createElement("td",{className:e.state.candidates[n][r].active?"activeCandidate":"",key:"".concat(e.props.row).concat(e.props.column,"column").concat(r),onClick:function(){return e.toggleClass(n,r)}},t.value)}))}))))}}]),t}(a.a.Component),b=function(e){var t="cell";return e.n.active&&(t+=" active"),0===e.n.conflicts.length||e.revealed||(t+=" conflict"),a.a.createElement("td",{className:e.n.prefilled?"inactive":"",key:"".concat(e.n.row).concat(e.n.column)},a.a.createElement("div",{className:t,onClick:function(){return e.toggleClass(e.n)}},e.n.prefilled&&e.n.digit,a.a.createElement("div",{className:"entry"},0!==e.n.guess&&!e.revealed&&e.n.guess,!e.n.prefilled&&e.revealed&&e.n.digit),a.a.createElement(w,{guess:e.n.guess,row:e.n.row,column:e.n.column,prefilled:e.n.prefilled,display:0===e.n.guess,currentActive:e.currentActive,candidateMode:e.candidateMode,revealed:e.revealed})))},g=function(e){var t="inputNum";-1===e.currentActive.row&&(t+=" inactive"),e.revealed&&(t+=" inactive");return a.a.createElement("div",{id:"inputOptions"},[1,2,3,4,5,6,7,8,9].map(function(n){return a.a.createElement("div",{key:n,className:e.guess===n?"".concat(t," entered"):t,onClick:function(){return e.handleInputNum(n)}},n)}))},C=function(e){return a.a.createElement("div",{id:"toolbar"},e.candidateMode&&a.a.createElement("button",{className:"entryMode",onClick:function(){return e.switchMode()}},"Switch to Entry Mode"),!e.candidateMode&&a.a.createElement("button",{className:"entryMode",onClick:function(){return e.switchMode()}},"Switch to Candidate Mode"),!e.revealed&&a.a.createElement("button",{className:"revealall",onClick:function(){return e.revealAll()}},"Reveal all"),e.revealed&&a.a.createElement("button",{className:"back2answer",onClick:function(){return e.backToYourAnswer()}},"Go back to your answer"),a.a.createElement("button",{className:"newgame",onClick:function(){return e.newGame()}},"New game"))},y=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(d.a)(this,Object(v.a)(t).call(this,e))).toggleClass=function(e){if(!e.prefilled){var t=Object(s.a)(n.state.sudoku);if(t[e.row][e.column].active=!0,-1===n.state.currentActive.row)n.setState({currentActive:{row:e.row,column:e.column},sudoku:t});else{if(e.row===n.state.currentActive.row&&e.column===n.state.currentActive.column)return;t[n.state.currentActive.row][n.state.currentActive.column].active=!1,n.setState({currentActive:{row:e.row,column:e.column},sudoku:t})}}},n.removeNumbers=function(e){for(var t=81,n=0;n<9;n++){for(var r=0;r<9&&(t>22&&Math.random()>22/81&&(e[n][r].prefilled=!1,t--),!(t<=17));r++);if(t<=17)break}return e},n.handleInputNumClick=function(e){if(-1!==n.state.currentActive.row&&!n.state.revealed){var t=Object(s.a)(n.state.sudoku);t[n.state.currentActive.row][n.state.currentActive.column].guess!==e&&(t[n.state.currentActive.row][n.state.currentActive.column].guess=e,n.setState({sudoku:t},function(){return n.checkConflict()}))}},n.handleInputKeyPress=function(e){if(-1!==n.state.currentActive.row&&!n.state.revealed&&(e.keyCode>=49&&e.keyCode<=57||8===e.keyCode||46===e.keyCode)){var t=Object(s.a)(n.state.sudoku),r=parseInt(String.fromCharCode(e.keyCode)),a=t[n.state.currentActive.row][n.state.currentActive.column];if(n.state.candidateMode&&8!==e.keyCode&&46!==e.keyCode)a.guess=0;else{if(a.guess===r)return;8===e.keyCode||46===e.keyCode?a.guess=0:a.guess=r}t[n.state.currentActive.row][n.state.currentActive.column]=a,n.setState({sudoku:t},function(){return n.checkConflict()})}},n.updateConflicts=function(e,t,n){for(var r=0;r<n.conflicts.length;r++)for(var a=Object(u.a)({},n.conflicts[r]),c=Object(s.a)(e[a.row][a.column].conflicts),o=0;o<c.length;o++)if(c[o].row===t.row&&c[o].column===t.column){c.splice(o,1),e[a.row][a.column].conflicts=Object(s.a)(c);break}return e},n.checkRowConflicts=function(e,t,n){for(var r=0;r<9;r++)r!==t.column&&(e[t.row][r].prefilled&&e[t.row][r].digit===n.guess||!e[t.row][r].prefilled&&e[t.row][r].guess===n.guess)&&(n.conflicts.push({row:t.row,column:r}),e[t.row][r].conflicts.push(t));return{sudoku:e,currentGrid:n}},n.checkColumnConflicts=function(e,t,n){for(var r=0;r<9;r++)r!==t.row&&(e[r][t.column].prefilled&&e[r][t.column].digit===n.guess||!e[r][t.column].prefilled&&e[r][t.column].guess===n.guess)&&(n.conflicts.push({row:r,column:t.column}),e[r][t.column].conflicts.push(t));return{sudoku:e,currentGrid:n}},n.checkNonetConflicts=function(e,t,n){var r,a;switch(t.row%3){case 0:r=t.row;break;case 1:r=t.row-1;break;case 2:r=t.row-2;break;default:r=-1}switch(t.column%3){case 0:a=t.column;break;case 1:a=t.column-1;break;case 2:a=t.column-2;break;default:a=-1}for(var c=0;c<3;c++)for(var o=0;o<3;o++){var u=r+c,s=a+o;u!==t.row&&s!==t.column&&((e[u][s].prefilled&&e[u][s].digit===n.guess||!e[u][s].prefilled&&e[u][s].guess===n.guess)&&(n.conflicts.push({row:u,column:s}),e[u][s].conflicts.push(t)))}return{sudoku:e,currentGrid:n}},n.checkConflict=function(){var e=Object(s.a)(n.state.sudoku),t=Object(u.a)({},n.state.currentActive),r=Object(u.a)({},e[t.row][t.column]);e=n.updateConflicts(e,t,r),r.conflicts=[];var a=n.checkRowConflicts(e,t,r);e=a.sudoku,r=a.currentGrid;var c=n.checkColumnConflicts(e,t,r);e=c.sudoku,r=c.currentGrid;var o=n.checkNonetConflicts(e,t,r);e=o.sudoku,r=o.currentGrid,e[t.row][t.column]=Object(u.a)({},r),n.setState({sudoku:e})},n.newGame=function(){var e=k().map(function(e,t){return e.map(function(e,n){return{digit:e,guess:0,prefilled:!0,conflicts:[],active:!1,row:t,column:n}})});e=n.removeNumbers(e),n.setState({sudoku:e,currentActive:{row:-1,column:-1},revealed:!1})},n.revealAll=function(){n.setState({revealed:!0})},n.backToYourAnswer=function(){n.setState({revealed:!1})},n.switchMode=function(){var e=n.state.candidateMode;n.setState({candidateMode:!e})};var r=k().map(function(e,t){return e.map(function(e,n){return{digit:e,guess:0,prefilled:!0,conflicts:[],active:!1,row:t,column:n}})});return r=n.removeNumbers(r),n.state={sudoku:r,currentActive:{row:-1,column:-1},revealed:!1,candidateMode:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleInputKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleInputKeyPress)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"game"},a.a.createElement(C,{candidateMode:this.state.candidateMode,switchMode:this.switchMode,newGame:this.newGame,revealAll:this.revealAll,backToYourAnswer:this.backToYourAnswer,revealed:this.state.revealed,restart:this.restart}),a.a.createElement("div",{id:"gameboard"},a.a.createElement("table",null,a.a.createElement("tbody",null,this.state.sudoku.map(function(t,n){return a.a.createElement("tr",{key:n},t.map(function(t){return a.a.createElement(b,{key:"".concat(t.row).concat(t.column),n:t,toggleClass:e.toggleClass,revealed:e.state.revealed,candidateMode:e.state.candidateMode,currentActive:e.state.currentActive})}))}))),a.a.createElement(g,{guess:-1!==this.state.currentActive.row?this.state.sudoku[this.state.currentActive.row][this.state.currentActive.column].guess:0,currentActive:this.state.currentActive,handleInputNum:this.handleInputNumClick,revealed:this.state.revealed})))}}]),t}(a.a.Component),E=function(e){return a.a.createElement("div",{id:"instruction"},a.a.createElement("h3",null,a.a.createElement("u",null,"Classic Sudoku Rules")),a.a.createElement("p",null,"There are 9 rows, 9 columns, and 9 3x3 blocks. Fill in the empty cells with the numbers 1-9, without repeating any numbers within the row, column, or block."),a.a.createElement("h3",null,a.a.createElement("u",null,"How to Play")),a.a.createElement("p",null,"Click on each empty cell, enter digit with keyboard or number bar that's provided. Use Backspace or Delete to clear entries."))},A=function(){return a.a.createElement("div",{id:"footer"},"Web Sudoku \xa92019\xa0",a.a.createElement("a",{title:"Github",href:"https://github.com/huwu55/Web-Sudoku",target:"_blank",rel:"noopener noreferrer"},"Huiling Wu ",a.a.createElement("i",{className:"fab fa-github"})))};n(9);o.a.render(a.a.createElement(function(){return a.a.createElement("div",{id:"app"},a.a.createElement("h1",{id:"sudokuTitle"},"SUDOKU"),a.a.createElement(E,null),a.a.createElement(y,null),a.a.createElement(A,null))},null),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.ba93b1eb.chunk.js.map